services:

  #
  # Utilities
  #
  myspeed:
    image: germannewsmaker/myspeed:latest
    container_name: myspeed
    restart: unless-stopped
    networks:
      - mvr-hl
    volumes:
      - /opt/apps/myspeed:/myspeed/data
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.myspeed.entrypoints=web"
      - "traefik.http.routers.myspeed.rule=Host(`speedtest.mvr.io`)"
      - "traefik.http.services.myspeed.loadbalancer.server.port=5216"

  convertx: 
    image: ghcr.io/c4illin/convertx:latest
    container_name: convertx
    restart: unless-stopped
    volumes:
      - /opt/apps/convertx:/app/data
    environment:
      - ALLOW_UNAUTHENTICATED=true
      - HTTP_ALLOWED=true
    networks:
      - mvr-hl
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.convertx.entrypoints=web"
      - "traefik.http.routers.convertx.rule=Host(`convert.mvr.io`)"
      - "traefik.http.services.convertx.loadbalancer.server.port=3000"

  stirling-pdf:
    image: docker.stirlingpdf.com/stirlingtools/stirling-pdf:latest
    container_name: stirling-pdf
    restart: unless-stopped
    volumes:
      - /opt/apps/stirling-pdf/configs:/configs
      - /opt/apps/stirling-pdf/pipeline:/pipeline
      - /usr/share/tessdata # Required for extra OCR languages
      - /customFiles
      - /logs
    environment:
      - DOCKER_ENABLE_SECURITY=false
      - LANGS=en_GB
    networks:
      - mvr-hl
    labels:
      - "traefik.enable=true"
      - "traefik.http.routers.stirling-pdf.entrypoints=web"
      - "traefik.http.routers.stirling-pdf.rule=Host(`pdf.mvr.io`)"
      - "traefik.http.services.stirling-pdf.loadbalancer.server.port=8080"

#  changedetection:
#  nebula-sync:
#  ombi:
#  open-webui:
#  tautulli:
#  truenas-auto-update:
#  unsend:
  

networks:
  mvr-hl:
    external: true 